三、软件实现与调试
3.1 存储结构设计说明
系统数据存储依赖 Supabase 的 PostgreSQL 数据库，采用关系型存储结构，结合工程结构中的数据库脚本实现：
核心用户数据存储于 profiles 表，与 Supabase 自带的 auth.users 表通过外键关联（id字段引用auth.users表的id），确保用户认证与信息一致性；
申请数据存储于 applications 表，通过 user_id 字段与 profiles 表关联，支持按用户查询历史申请记录，content字段使用jsonb类型存储结构化申请内容；
消息数据存储于 messages 表，通过 sender_id 和 receiver_id 字段双向关联 profiles 表，支持消息发送者和接收者管理，包含 subject、message_type、related_entity_id 等扩展字段，支持消息已读 / 未读状态管理；
事件数据存储于 events 表，通过 creator_id 字段关联 profiles 表（管理员ID），记录活动标题、描述、地点、时间、最大参与人数等信息；
活动参与者数据存储于 event_participants 表，通过 event_id 和 user_id 字段分别关联 events 表和 profiles 表，记录用户参与活动的状态（待审核 / 已通过 / 已拒绝），并设置了 event_id 和 user_id 的唯一约束，防止重复报名；
数据库脚本分工：db_schema.sql 定义核心表结构（profiles、applications），db_triggers.sql 实现自动化操作（如用户创建后初始化 profile），db_new_features.sql 扩展新增功能（messages、events、event_participants表及相关权限策略）；
数据类型选择贴合业务需求，如 uuid 用于唯一标识、jsonb 存储结构化申请内容、timestamptz 记录时间（含时区）、boolean 管理已读状态，确保数据存储高效且易查询。